<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>多图上传</title>
    <script src="js/jquery-1.7.1.min.js"></script>
    <script src="js/ajax.js"></script>
</head>
<body>
<input name="files" multiple  id="up1" type="file" accept="image/*"/>
<label for="up1"></label>
<button id="upload">上传</button>
</body>
<script>
    $("#upload").live("click",function(){
        var form = new FormData();
        var filenode = document.getElementById("up1").files;
        $.ajax({
            type:"post",
            url:"/images",
            dataType:"json",
            headers: {'Content-Type': 'application/x-www-form-urlencoded'},
//            processData: false,  // tell jQuery not to process the data
//            contentType: false ,  // tell jQuery not to set contentType
            data:{file:{images:filenode},name:"dddd"},
            success:function(data){
//                console.log(data);
                filenode = null;
            },error:function(e){
//            console.log(e);
            }});
    });
</script>
</html>